<!DOCTYPE html>
<html>
    <head>
        <title>Jurask Demo</title>
        <meta charset="UTF-8">
        <style>
            .hidden {visibility: hidden;}
            body {display: flex; flex-direction: column; gap: 20px; margin-top: 20px; align-items: center; font-size: 26px;}
            form {display: flex; flex-direction: column; gap: 10px; align-items: center;}
            button {width: 20%;}
            textarea {min-width: 100%;}
            p {font-size: 16px;}
            hr {min-width: 50%;}
            div {max-width: 50%;}
        </style>
    </head>
    <body>
        <form id="form">
            <label>Добро пожаловать! Введите свой запрос:</label>

            <textarea id="input" placeholder="Какие права гарантируются гражданам РФ?" input></textarea>
            <button type="button" id="submit" onclick="send_query()">Отправить</button>
        </form>

        <hr>

        <div id="answer-section" class="hidden">
            <label>Ответ:</label>
            <p id="answer-text"> 
            </p>
        </div>

        <script>
            async function send_query(element) {
                input = document.getElementById("input").value;
                let response = fetch("/", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json;charset=utf-8"
                    },
                    body: JSON.stringify({"contents": input})
                }).then((response => response.json())).then(answer => {
                    document.getElementById("answer-section").classList.remove("hidden");
                    document.getElementById("answer-text").innerText = answer;
                })
            }
        </script>
    </body>
</html>